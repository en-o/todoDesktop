# Todo Desktop App

<div align="center">

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Tauri](https://img.shields.io/badge/Tauri-1.5-blue.svg)
![React](https://img.shields.io/badge/React-18-blue.svg)
![Rust](https://img.shields.io/badge/Rust-1.70+-orange.svg)

**åŸºäº Tauri + React + Rust çš„ Git Todo ç®¡ç†æ¡Œé¢åº”ç”¨**

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜) â€¢ [å¼€å‘æ–‡æ¡£](DEVELOPMENT.md)

</div>

---

## ç®€ä»‹

ä¸€ä¸ªè½»é‡çº§ã€è·¨å¹³å°çš„ Todo ç®¡ç†æ¡Œé¢åº”ç”¨ï¼Œä½¿ç”¨ Git ä½œä¸ºå­˜å‚¨å’Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚æ”¯æŒ Markdown ç¼–è¾‘ï¼Œæ”¯æŒå¤šä¸ª Git æ‰˜ç®¡å¹³å°ï¼ˆGitHub/GitLab/Giteeï¼‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“… **ç´§å‡‘æ—¥å†å¯¼èˆª**
  - ä¾§è¾¹æ ç´§å‡‘æ—¥å†è§†å›¾
  - å¿«é€Ÿè®¿é—®ä»Šæ—¥å¾…åŠ
  - ä»Šæ—¥ç»Ÿè®¡ï¼ˆå¾…åŠ/å·²å®Œæˆ/æœªå®Œæˆï¼‰

- ğŸ“ **æ²‰æµ¸å¼ Markdown ç¼–è¾‘**
  - Vditor å³æ—¶æ¸²æŸ“ç¼–è¾‘å™¨
  - å¾…åŠäº‹é¡¹è‡ªåŠ¨ç®¡ç†
  - å‹¾é€‰è‡ªåŠ¨ç§»åŠ¨åˆ°å®ŒæˆåŒºåŸŸ
  - æ”¯æŒé™„ä»¶ä¸Šä¼ ï¼ˆå›¾ç‰‡ã€æ–‡æ¡£ï¼‰

- ğŸ”„ **Git ç‰ˆæœ¬æ§åˆ¶**
  - æ”¯æŒ GitHub / GitLab / Gitee
  - è‡ªåŠ¨ä¿å­˜ + è‡ªåŠ¨æäº¤
  - å®šæ—¶åŒæ­¥åˆ°è¿œç¨‹ä»“åº“
  - å†²çªæ£€æµ‹å’Œä¸‰æ å¯¹æ¯”è§£å†³

- ğŸ–¥ï¸ **æ¡Œé¢åº”ç”¨ç‰¹æ€§**
  - ç³»ç»Ÿæ‰˜ç›˜æ”¯æŒ
  - å•å®ä¾‹è¿è¡Œ
  - è·¨å¹³å°ï¼ˆWindows/macOS/Linuxï¼‰

- âŒ¨ï¸ **å¿«æ·é”®**
  - `Ctrl + S`ï¼šä¿å­˜å¹¶åŒæ­¥
  - `Ctrl + Enter`ï¼šä¿å­˜

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript
- **UI ç»„ä»¶**: Ant Design
- **æ¡Œé¢æ¡†æ¶**: Tauri 1.5
- **åç«¯è¯­è¨€**: Rust
- **Git æ“ä½œ**: git2-rs (Rust) + System Git
- **Markdown ç¼–è¾‘**: Vditor (å³æ—¶æ¸²æŸ“æ¨¡å¼)
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ„å»ºå·¥å…·**: Vite

## é¡¹ç›®ç»“æ„

```
todoDesktop/
â”œâ”€â”€ src/                    # React å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ YearView.tsx    # å¹´è§†å›¾
â”‚   â”‚   â”œâ”€â”€ MonthView.tsx   # æœˆè§†å›¾
â”‚   â”‚   â”œâ”€â”€ DayView.tsx     # æ—¥è§†å›¾
â”‚   â”‚   â””â”€â”€ Settings.tsx    # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ store/              # Zustand çŠ¶æ€
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ src-tauri/              # Tauri åç«¯ (Rust)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs         # ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ git_manager.rs  # Git æ“ä½œæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ file_manager.rs # æ–‡ä»¶æ“ä½œæ¨¡å—
â”‚   â”‚   â””â”€â”€ config.rs       # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ Cargo.toml          # Rust ä¾èµ–
â”‚   â””â”€â”€ tauri.conf.json     # Tauri é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+
- Rust 1.70+
- ç³»ç»Ÿä¾èµ–ï¼ˆæ ¹æ®å¹³å°ï¼‰:
  - **Windows**: Visual Studio C++ Build Tools
  - **macOS**: Xcode Command Line Tools
  - **Linux**: `libgtk-3-dev libwebkit2gtk-4.0-dev libappindicator3-dev librsvg2-dev patchelf libssl-dev`

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£… Tauri CLI
npm install -D @tauri-apps/cli
```

### å¼€å‘æ¨¡å¼

```bash
npm run tauri dev
```

### æ„å»ºåº”ç”¨

```bash
npm run tauri build
```

æ„å»ºäº§ç‰©ä½äº `src-tauri/target/release/bundle/` ç›®å½•ã€‚

## å‘å¸ƒæµç¨‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# å®Œæ•´å‘å¸ƒï¼ˆæ›´æ–°ç‰ˆæœ¬å· + åˆ›å»ºæ ‡ç­¾ + æ¨é€ï¼‰
release.bat

# å¿«é€Ÿå‘å¸ƒï¼ˆä½¿ç”¨å½“å‰ç‰ˆæœ¬å·ç›´æ¥å‘å¸ƒï¼‰
release-quick.bat
```

**è„šæœ¬åŠŸèƒ½ï¼š**
- æ£€æŸ¥æœªæäº¤çš„æ›´æ”¹
- è‡ªåŠ¨æ›´æ–° `package.json`ã€`tauri.conf.json`ã€`Cargo.toml` ä¸­çš„ç‰ˆæœ¬å·
- åˆ›å»º Git æ ‡ç­¾
- æ¨é€åˆ°è¿œç¨‹ä»“åº“è§¦å‘ GitHub Actions è‡ªåŠ¨æ„å»º

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å‘å¸ƒ

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆä¸‰ä¸ªæ–‡ä»¶éƒ½è¦æ”¹ï¼‰
#    - package.json
#    - src-tauri/tauri.conf.json
#    - src-tauri/Cargo.toml

# 2. æäº¤æ›´æ”¹
git add -A
git commit -m "chore: bump version to 1.0.1"

# 3. åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.1 -m "Release v1.0.1"

# 4. æ¨é€
git push origin main
git push origin v1.0.1
```

### æ–¹å¼ä¸‰ï¼šGitHub Actions æ‰‹åŠ¨è§¦å‘

1. è¿›å…¥ GitHub ä»“åº“çš„ **Actions** é¡µé¢
2. é€‰æ‹© **Release** å·¥ä½œæµ
3. ç‚¹å‡» **Run workflow**
4. è¾“å…¥ç‰ˆæœ¬å·ï¼Œç‚¹å‡»è¿è¡Œ

### æ„å»ºäº§ç‰©

| å¹³å° | æ–‡ä»¶ |
|------|------|
| Windows | `.msi` å®‰è£…åŒ…ã€`.exe` å®‰è£…ç¨‹åºã€ä¾¿æºç‰ˆ `.zip` |
| macOS (Apple Silicon) | `aarch64.dmg` |
| macOS (Intel) | `x64.dmg` |
| Linux | `.deb`ã€`.AppImage` |

## åº”ç”¨ç‰¹æ€§

### ç³»ç»Ÿæ‰˜ç›˜
- å…³é—­çª—å£æ—¶è‡ªåŠ¨æœ€å°åŒ–åˆ°æ‰˜ç›˜
- å•å‡»æ‰˜ç›˜å›¾æ ‡æ¢å¤çª—å£
- å³é”®èœå•ï¼šæ˜¾ç¤ºçª—å£ / é€€å‡ºç¨‹åº

### å•å®ä¾‹è¿è¡Œ
- é˜²æ­¢é‡å¤æ‰“å¼€å¤šä¸ªåº”ç”¨å®ä¾‹
- å†æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨èšç„¦åˆ°å·²æœ‰çª—å£

### è‡ªåŠ¨åŒæ­¥
- ç¼–è¾‘å 2 ç§’è‡ªåŠ¨ä¿å­˜
- æ¯ 5 åˆ†é’Ÿè‡ªåŠ¨åŒæ­¥åˆ°è¿œç¨‹
- æ”¯æŒå†²çªæ£€æµ‹å’Œè§£å†³

## ä½¿ç”¨è¯´æ˜

### é¦–æ¬¡è®¾ç½®

1. å¯åŠ¨åº”ç”¨åï¼Œç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡
2. é…ç½® Git ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€é‚®ç®±ï¼‰
3. é€‰æ‹©æœ¬åœ°æ•°æ®ç›®å½•
4. é€‰æ‹©è¿œç¨‹ä»“åº“ç±»å‹ï¼ˆGitHub/GitLab/Giteeï¼‰
5. è¾“å…¥ä»“åº“åœ°å€å’Œè®¿é—®ä»¤ç‰Œ
6. ï¼ˆå¯é€‰ï¼‰å¯ç”¨ GitHub Pages

### æ—¥å¸¸ä½¿ç”¨

1. **å¹´è§†å›¾**ï¼šæŸ¥çœ‹å…¨å¹´æ¦‚è§ˆï¼Œå·²æœ‰ Todo çš„æ—¥æœŸä¼šé«˜äº®æ˜¾ç¤º
2. **æœˆè§†å›¾**ï¼šç‚¹å‡»æœˆä»½ï¼ŒæŸ¥çœ‹å½“æœˆæ—¥å†
3. **æ—¥è§†å›¾**ï¼š
   - ç‚¹å‡»æ—¥æœŸï¼Œæ–°å¢æˆ–ç¼–è¾‘ Todo
   - ä½¿ç”¨ Markdown ç¼–è¾‘å™¨
   - æ·»åŠ é™„ä»¶ï¼ˆå›¾ç‰‡ã€æ–‡ä»¶ï¼‰
   - æ ‡è®°å®ŒæˆçŠ¶æ€
4. **åŒæ­¥**ï¼š
   - è‡ªåŠ¨æäº¤ï¼šç¼–è¾‘åè‡ªåŠ¨æäº¤åˆ°æœ¬åœ° Git
   - æ‰‹åŠ¨åŒæ­¥ï¼šç‚¹å‡»åŒæ­¥æŒ‰é’®æ¨é€åˆ°è¿œç¨‹ä»“åº“
   - å®šæ—¶åŒæ­¥ï¼šå¯è®¾ç½®è‡ªåŠ¨åŒæ­¥é—´éš”

## æ•°æ®å­˜å‚¨ç»“æ„

```
todo-data/
â”œâ”€â”€ 2026/
â”‚   â”œâ”€â”€ 01/
â”‚   â”‚   â”œâ”€â”€ 01-01.md      # 1æœˆ1æ—¥
â”‚   â”‚   â”œâ”€â”€ 01-15.md      # 1æœˆ15æ—¥
â”‚   â”‚   â””â”€â”€ assets/       # é™„ä»¶ç›®å½•
â”‚   â”‚       â””â”€â”€ 01-15-image.png
â”‚   â”œâ”€â”€ 02/
â”‚   â”‚   â”œâ”€â”€ 02-06.md      # 2æœˆ6æ—¥
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ 2027/
â”‚   â””â”€â”€ ...
â””â”€â”€ .git/
```

**æ–‡ä»¶å‘½åè§„åˆ™ï¼š**
- Todo æ–‡ä»¶ï¼š`å¹´/æœˆ/MM-DD.md`
- é™„ä»¶æ–‡ä»¶ï¼š`å¹´/æœˆ/assets/MM-DD-æ–‡ä»¶å.ext`

## Git å·¥ä½œæµ

1. **æœ¬åœ°ç¼–è¾‘** â†’ è‡ªåŠ¨ä¿å­˜åˆ°æ–‡ä»¶
2. **è‡ªåŠ¨æäº¤** â†’ æ¯æ¬¡ä¿å­˜è‡ªåŠ¨ git commit
3. **æ‰‹åŠ¨åŒæ­¥** â†’ ç”¨æˆ·ç‚¹å‡»åŒæ­¥æŒ‰é’®
4. **æ¨é€åˆ°è¿œç¨‹** â†’ git push origin main
5. **GitHub Pages** â†’ è‡ªåŠ¨è§¦å‘é™æ€ç«™ç‚¹ç”Ÿæˆ

## é…ç½®æ–‡ä»¶

é…ç½®ä¿å­˜åœ¨ç³»ç»Ÿçš„ç”¨æˆ·æ•°æ®ç›®å½•ï¼š
- **Windows**: `%APPDATA%/com.todo.desktop/config.json`
- **macOS**: `~/Library/Application Support/com.todo.desktop/config.json`
- **Linux**: `~/.config/com.todo.desktop/config.json`

## å¼€å‘è¯´æ˜

### æ·»åŠ  Tauri å‘½ä»¤

1. åœ¨ `src-tauri/src/` ä¸­åˆ›å»ºæ–°çš„ Rust æ¨¡å—
2. ä½¿ç”¨ `#[tauri::command]` å®å¯¼å‡ºå‡½æ•°
3. åœ¨ `main.rs` ä¸­æ³¨å†Œå‘½ä»¤
4. åœ¨å‰ç«¯ä½¿ç”¨ `invoke()` è°ƒç”¨

ç¤ºä¾‹ï¼š

```rust
// Rust
#[tauri::command]
fn read_todo(date: String) -> Result<String, String> {
    // å®ç°é€»è¾‘
}
```

```typescript
// TypeScript
import { invoke } from '@tauri-apps/api/tauri';

const content = await invoke<string>('read_todo', { date: '2024-01-01' });
```

## License

[Apache 2.0](LICENSE)
